---
applications:
  - name: rabbitmq-perf-test
    path: ./target/pcf-perf-test-1.0-SNAPSHOT.jar
    buildpacks: 
      - https://github.com/cloudfoundry/java-buildpack.git
    memory: 750M
    health-check-type: process
    services: [rmq-david-perftest-ssl]
    env:
      JBP_CONFIG_OPEN_JDK_JRE: '{jre: { version: 21.+ }}'
#      AUTOACK:
#      AUTO_DELETE:
#      BODY:
#      BODY_CONTENT_TYPE:
#      CMESSAGES:
#      CONFIRM:
#      CONFIRM_TIMEOUT:
      CONSUMERS: 1
#      CONSUMER_CHANNEL_COUNT:
#      CONSUMER_LATENCY:
#      CONSUMER_RATE:
#      CTXSIZE:
#      EXCHANGE:
#      EXCLUSIVE:
#      FLAG:
#      FRAMEMAX:
#      GLOBAL_QOS:
#      HEARTBEAT:
#      HEARTBEAT_SENDER_THREADS:
#      ID:
#      INTERVAL:
#      LEGACY_METRICS:
#      MESSAGE_PROPERTIES:
#      METRICS_PROMETHEUS:
#      METRICS_PROMETHEUS_ENDPOINT:
#      METRICS_PROMETHEUS_PORT:
#      METRICS_TAGS:
#      MULTI_ACK_EVERY:
#      NIO_THREADS:
#      NIO_THREAD_POOL:
#      OUTPUT_FILE:
#      PMESSAGES:
#      PREDECLARED:
      PRODUCERS: 1
#      PRODUCER_CHANNEL_COUNT:
#      PRODUCER_RANDOM_START_DELAY:
#      PRODUCER_SCHEDULER_THREADS:
#      PTXSIZE:
#      PUBLISHING_INTERVAL:
#      QOS:
#      QUEUE:
#      QUEUE_ARGS:
#      QUEUE_PATTERN:
#      QUEUE_PATTERN_FROM:
#      QUEUE_PATTERN_TO:
#      RANDOM_ROUTING_KEY:
#      RATE:
#      ROUTING_KEY:
#      ROUTING_KEY_CACHE_SIZE:
#      SASL_EXTERNAL:
#      SIZE:
#      SKIP_BINDING_QUEUES:
#      SLOW_START:
#      TIME:
#      TYPE:
#      URI:
#      URIS:
#      USE_DEFAULT_SSL_CONTEXT:
#      USE_MILLIS:
